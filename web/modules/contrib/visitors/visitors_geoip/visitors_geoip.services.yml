services:
  visitors_geoip.lookup:
    class: Drupal\visitors_geoip\Service\GeoIpService
    arguments:
      - '@config.factory'

  visitors_geoip.subscriber:
    class: Drupal\visitors_geoip\EventSubscriber\GeoIpVisitLogSubscriber
    arguments:
      - '@visitors_geoip.lookup'
    tags:
      - { name: event_subscriber }

  visitors_geoip.report:
    class: Drupal\visitors_geoip\Service\GeoReportService
    arguments:
      - '@database'
      - '@config.factory'
      - '@request_stack'
      - '@renderer'
      - '@date.formatter'
      - '@entity_type.manager'
      - '@string_translation'
